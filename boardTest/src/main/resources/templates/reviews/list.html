<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>리뷰 목록</title>
</head>
<body>
<div th:replace="~{fragments/header :: siteHeader('reviews')}"></div>
<main style="padding:16px 0;">
<h1>리뷰 목록</h1>
<a href="/reviews/new" class="button-link">리뷰 작성</a>

<div class="card-container">
  <div class="card" th:each="r : ${reviewPage.content}">
    <div class="card-body">
      <h3><a th:href="@{/reviews/{id}(id=${r.id})}" th:text="${r.title}"></a></h3>
      <p><b>작성자:</b> <span th:text="${r.author.username}"></span></p>
      <p><b>평점:</b> <span th:text="${r.rating}"></span></p>
      <p th:text="${#temporals.format(r.createdAt,'yyyy-MM-dd')}"></p>
    </div>
  </div>
</div>

<div class="pagination">
  <span th:each="i : ${#numbers.sequence(0, totalPages-1)}">
    <a th:if="${i != currentPage}" th:href="@{/reviews(page=${i})}" th:text="${i+1}"></a>
    <span th:if="${i == currentPage}" th:text="${i+1}"></span>
  </span>
</div>
</main>
<div th:replace="~{fragments/footer :: siteFooter}"></div>
</body>
</html>
